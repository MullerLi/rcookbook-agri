'hand - Propanil/Bromoxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , 1 , 0 ),
'hand - Propanil/Ioxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , 0 , 1 ))
glht( m2,
linfct = mcp( treatment = cfm)
) %>% summary
cfm
# 線性模式
cfm <- rbind(
'0CK -5hand + Herbicide' = c( 0 , -5 , 1 , 1 , 1 , 1 , 1 ),
'hand - Propanil/Bromoxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , -1 , 0 ),
'hand - Propanil/Ioxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , 0 , -1 ))
glht( m2,
linfct = mcp( treatment = cfm)
) %>% summary
# 線性模式
cfm <- rbind(
'0CK -5hand + Herbicide' = c( 0 , -5 , 1 , 1 , 1 , 1 , 1 ))
#'hand - Propanil/Bromoxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , -1 , 0 ),
#'hand - Propanil/Ioxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , 0 , -1 ) )
glht( m2,
linfct = mcp( treatment = cfm)
) %>% summary
# 線性模式
cfm <- rbind(
'0CK -5hand + Herbicide' = c( 0 , -5 , 1 , 1 , 1 , 1 , 1 ),
'hand - Propanil/Bromoxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , -1 , 0 ))
#'hand - Propanil/Ioxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , 0 , -1 ) )
glht( m2,
linfct = mcp( treatment = cfm)
) %>% summary
# 線性模式
cfm <- rbind(
'0CK -5hand + Herbicide' = c( 0 , -5 , 1 , 1 , 1 , 1 , 1 ),
'hand - Propanil/Bromoxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , -1 , 0 ))
glht( m2,
linfct = mcp( treatment = cfm)
) %>% summary
# 線性模式
cfm <- rbind(
'0CK -5hand + Herbicide' = c( 0 , -5 , 1 , 1 , 1 , 1 , 1 ),
'hand - Propanil/Ioxynil' = c( 0 , 1 , 0 , 0 , 0 , 0 , 0 , -1 ) )
glht( m2,
linfct = mcp( treatment = cfm)
) %>% summary
# 線性模式
cfm <- rbind(
'0CK -5hand + Herbicide'     = c( 0 , -5 , 1 , 1 , 1 , 1 , 1 ),
'hand - Propanil/Bromoxynil' = c( 0 , 1  , 0 , 0 , 0 , -1, 0 ),
'hand - Propanil/Ioxynil'    = c( 0 , 1  , 0 , 0 , 0 , 0 , -1 ) )
glht( m2,
linfct = mcp( treatment = cfm)
) %>% summary
library(bookdown)
bookdown::render_book(input ="index.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="01-intro.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="01-intro.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="01-intro.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="01-intro.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="01-intro.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="index.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="02-describe.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="03-ttest.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="index.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
pkg = c('magrittr','ggplot2')
if ( any(pkg) %in% installed.packages() == TRUE) install.packages(pkg[!pkg %in% rownames(installed.packages())])
invisible(lapply(pkg, library, character.only = TRUE))
ggplot(data = iris, mapping = aes(x = Sepal.Length, y = Petal.Width, color = Species))+
geom_jitter()+
geom_smooth(method='lm',se=F)+
theme_bw()+
labs(x='花萼長度(cm)',
y='花瓣寬度(cm)',
color = '品種',
title = '鳶尾花花萼長與花瓣寬線性關係')
title = '鳶尾花花萼長與花瓣寬線性關係')
bookdown::render_book(input ="index.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="01-intro.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
pkg = c('magrittr','ggplot2')
if ( any(pkg) %in% installed.packages() == TRUE) install.packages(pkg[!pkg %in% rownames(installed.packages())])
pkg <- 'ggplot2'
if ( pkg %in% installed.packages() == TRUE) install.packages(pkg)
invisible(lapply(pkg, library, character.only = TRUE))
ggplot(data = iris, mapping = aes(x = Sepal.Length, y = Petal.Width, color = Species))+
geom_jitter()+
geom_smooth(method='lm',se=F)+
theme_bw()+
labs(x='花萼長度(cm)',
y='花瓣寬度(cm)',
color = '品種',
title = '鳶尾花花萼長與花瓣寬線性關係')
bookdown::render_book(input ="01-intro.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="02-describe.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
install.packages(pkg)
bookdown::render_book(input ="03-ttest.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
install.packages(pkg)
bookdown::render_book(input ="04-anova.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="05-GLHG.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="01-intro.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="02-describe.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="04-anova.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="index.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="01-intro.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="02-describe.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="03-ttest.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="02-describe.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
x <- c(1,2,3)
(x)
(x <- x+x)
cat('x')(x)
x <- c(1,2,3)
cat('x')
(x)
(x <- x+x)
x <- c(1,2,3)
cat('x = ')
(x)
cat('x+x = ')
(x <- x+x)
x <- c(1,2,3)
cat('x = ')
(x)
x <- x+x
(x)
x <- c(1,2,3)
cat('x = ')
(x)
x <- x+x
(x)
x <- c(1,2,3)
cat('x = ')
(x)
x <- x+x
(x)
x <- c('破壞死光')
cat('x = ')
(x)
x <- c('千變萬花')
cat('x = ')
(x)
x <- c('破壞死光')
cat('x = ')
(x)
x <- c('千變萬花')
cat('新的x = ')
(x)
x <- c('破壞死光')
cat('x = ',x)
x <- c('千變萬花')
cat('新的x = ')
(x)
x <- c('破壞死光')
cat('x = ',x)
x <- c('千變萬花')
cat('新的x = ',x)
x <- c('破壞死光')
cat('x = ',x)
x <- c('千變萬花')
cat('\n新的x = ',x)
x <- c('破壞死光')
cat('　　x = ',x)
x <- c('千變萬花')
cat('\n新的x = ',x)
'psych'%in%installed.packages()
if('psych'%in%installed.packages() == FALSE) install.packages('psych')
library(psych)
pkg <- 'ggplot2'
pkg %in% installed.packages() == FALSE
pkg %in% installed.packages()
if('psych'%in%installed.packages() == FALSE) install.packages('psych')
library(psych)
psych::describeBy(iris)
?describeBy
# 產生敘述統計表
psych::describeBy(mtcars)
# 產生敘述統計表
# 使用範例資料集 mtcars (一個車子雜誌的資料)
psych::describe (mtcars)
mtcars
package="datasets"
datasets
dataset
data
datasets()
diamond
diamonds
mtcars
# 產生敘述統計表
# 使用範例資料集 mtcars (一個車子雜誌的資料)
psych::describe (mtcars)
describeBy( mtcars , group = c( vs , cyl ) )
describeBy( mtcars , group = c( 'vs' ,' cyl' ) )
describeBy( mtcars , group = c( 'vs' ,'cyl' ) )
?describeBy( mtcars , group = c( 'vs' ,'cyl' ) )
?describeBy( mtcars , group = c( 'vs' ,'cyl' ) , mat = T)
describeBy( mtcars , group = c( 'vs' ,'cyl' ) , mat = T)
describeBy( mtcars , group = list( 'vs' ,'cyl' ) , mat = T)
describeBy( mtcars , group = list( vs ,cyl ) , mat = T)
pkg<-'tidyverse'
if(pkg %in% install.packages('tidyverse') == F) install.packages('tidyverse')
library(tidyverse)
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( numeric , list('avg'=mean, 'sd'= se )))
pkg<-'tidyverse'
if(pkg %in% install.packages('tidyverse') == F) install.packages('tidyverse')
library(tidyverse)
se <- function(x) sd(x)/length(x)
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( numeric , list('avg'=mean, 'sd'= se )))
pkg %in% install.packages('tidyverse')
pkg<-'tidyverse'
if(pkg %in% installed.packages('tidyverse') == F) install.packages('tidyverse')
library(tidyverse)
se <- function(x) sd(x)/length(x)
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( numeric , list('avg'=mean, 'sd'= se )))
pkg<-'tidyverse'
if(pkg %in% installed.packages() == F) install.packages('tidyverse')
library(tidyverse)
se <- function(x) sd(x)/length(x)
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( numeric , list('avg'=mean, 'sd'= se )))
?summarise( across ( numeric , list('avg'=mean, 'sd'= se )))
?dplyr_data_masking
?across
mtcars %>%
group_by ( vs , cyl ) %>%
?summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se )))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se )))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map(round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
sapply(round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
sapply(~round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map(~round(3))
?map
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map_dfr(~round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map_dfr(round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
walk(round(3))
?modify
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
modify(round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
modify(~round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
modify(.~round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
modify(.x~round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
modify(round(3))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se )))
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map ( round)
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map ( round ) %>% data.frame()
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map ( round(3) ) %>% data.frame()
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map ( round(2) ) %>% data.frame()
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map ( round(digits = 2) ) %>% data.frame()
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map ( round(.x,digits = 2) ) %>% data.frame()
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map ( round(.,digits = 2) ) %>% data.frame()
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map ( .x~round(digits = 2) ) %>% data.frame()
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
map ( .x~round(.,digits = 2) ) %>% data.frame()
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
round(digits = 2) ) %>% data.frame()
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
round(digits = 2)
desSa <- function( data , digs , ...) {
se <- function(x) sd(x)/length(x)
data %>%
group_by ( ... ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'se'= se ))) %>%
round(digits = as.numeric(digs))
}
desSa( mtcars , 2 , vs)
desSa <- function( data , digs , ...) {
se <- function(x) sd(x)/length(x)
data %>%
group_by ( ... ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'se'= se ))) %>%
round(digits = as.numeric(digs)) %>% print
}
desSa( mtcars , 2 , vs)
desSa <- function( data , digs , ...) {
se <- function(x) sd(x)/length(x)
data %>%
group_by ( ... ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'se'= se ))) %>%
round(digits = as.numeric(digs)) %>% return()
}
desSa( mtcars , 2 , vs)
des
desSa
desSa <- function( data , digs , ...) {
se <- function(x) sd(x)/length(x)
x<-data %>%
group_by ( ... ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'se'= se ))) %>%
round(digits = as.numeric(digs))
return(x)
}
desSa( mtcars , 2 , vs)
desSa <- function( data , digs , ...) {
se <- function(x) sd(x)/length(x)
x<-data %>%
group_by ( paste0(... , sep=',' )) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'se'= se ))) %>%
round(digits = as.numeric(digs))
return(x)
}
desSa( mtcars , 2 , vs)
desSa <- function( data , digs , ...) {
se <- function(x) sd(x)/length(x)
x<-data %>%
group_by ( as.character(...) ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'se'= se ))) %>%
round(digits = as.numeric(digs))
return(x)
}
desSa( mtcars , 2 , vs)
mtcars %>%
group_by ( vs , cyl ) %>%
summarise( across ( where(is.numeric) , list('avg'=mean, 'sd'= se ))) %>%
round(digits = 2)
1. `%>%`
?magrittr
vignette("magrittr")
rnom(100)
x <- rnorm (100)
x
print(x3)
# 產生100個隨機數字
x <- rnorm (100)
# 取絕對值(abs)、開根號(sqrt)、再平方
x1 <- abs(x)
x2 <- sqrt(x1)
x3 <- x2^2
print(x3)
# 產生100個隨機數字
x <- rnorm (100)
# 取絕對值(abs)、開根號(sqrt)、再平方
x1 <- abs(x)
x2 <- sqrt(x1)
x3 <- x2^2
head(x3)
abs(iris)
# 產生100個隨機數字
x <- rnorm (100)
# 取絕對值(abs)、開根號(sqrt)、再平方、顯示前6筆
x1 <- abs(x)
x2 <- sqrt(x1)
x3 <- x2^2
head(x3)
# 產生100個隨機數字、取絕對值(abs)、開根號(sqrt)、再平方、顯示前6筆
head(sqrt(abs(rnorm (100)))^2)
rnorm (100) %>%
abs(x) %>%
sqrt(x1) %>% ^2
rnorm (100) %>%
abs(x) %>%
sqrt(x1) %>% `^2`
rnorm (100) %>%
abs %>%
sqrt %>%
head
# enter 換行，看起來比較舒服
rnorm (100) %>%
abs %>%
sqrt %>%
round( . , digits = 2)
rnorm (100) %>%
abs %>%
sqrt %>%
round( . , digits = 2) %>%
head
# 產生100個隨機數字、取絕對值(abs)、開根號(sqrt)、四捨五入到小數點第二位、顯示前6筆
head(round(sqrt(abs(rnorm (100))),2))
# 產生100個隨機數字
x <- rnorm (100)
# 取絕對值(abs)、開根號(sqrt)、四捨五入到小數點後第二位(round)、顯示前6筆
x1 <- abs(x)
x2 <- sqrt(x1)
x3 <- round(x2 , digits = 2)
head(x3)
# 產生100個隨機數字、取絕對值(abs)、開根號(sqrt)、四捨五入到小數點第二位、顯示前6筆
head(round(sqrt(abs(rnorm (100))),2))
bookdown::render_book(input ="01-intro.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="05-GLHG.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="05-GLHG.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="index.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="index.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="index.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="01-intro.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="02-describe.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="03-ttest.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="04-anova.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="05-GLHG.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="index.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="05-GLHG.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="index.rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
bookdown::render_book(input ="02-describe.Rmd" ,output_format ='bookdown::gitbook',encoding='UTF-8')
riceHerbicide %<>%
mutate(treatment = as.factor(treatment),
applytime = as.factor(applytime),
rate = as.factor(rate),
rep = as.factor(rep))
riceHerbicide %>% map(class) %>% combine()
riceHerbicide %<>%
mutate(treatment = as.factor(treatment),
applytime = as.factor(applytime),
rate = as.factor(rate),
rep = as.factor(rep))
riceHerbicide %>% map(class) %>% vctrs::vec_c()
riceHerbicide %>% map(class) %>% vctrs::vec_c
riceHerbicide %>% map(class) %>% vec_c
riceHerbicide %<>%
mutate(treatment = as.factor(treatment),
applytime = as.factor(applytime),
rate = as.factor(rate),
rep = as.factor(rep))
riceHerbicide %>% str
# 線性模式
cfm <- rbind(
'0CK -5hand + Herbicide'     = c( 0 , -5 , 1 , 1 , 1 , 1 , 1 ),
'hand - Propanil/Bromoxynil' = c( 0 , 1  , 0 , 0 , 0 , -1, 0 ),
'hand - Propanil/Ioxynil'    = c( 0 , 1  , 0 , 0 , 0 , 0 , -1 ) )
glht( m2 , linfct = mcp( treatment = cfm)) %>%
summary
# 線性模式
cfm <- rbind(
'-5hand + Herbicide'     = c( 0 , -5 , 1 , 1 , 1 , 1 , 1 ),
'hand - Propanil/Bromoxynil' = c( 0 , 1  , 0 , 0 , 0 , -1, 0 ),
'hand - Propanil/Ioxynil'    = c( 0 , 1  , 0 , 0 , 0 , 0 , -1 ) )
glht( m2 , linfct = mcp( treatment = cfm)) %>%
summary
pkg <- 'ggplot2'
if ( pkg %in% installed.packages() == FALSE) install.packages(pkg)
invisible(lapply(pkg, library, character.only = TRUE))
ggplot(data = iris, mapping = aes(x = Sepal.Length, y = Petal.Width, color = Species))+
geom_jitter()+
geom_smooth(method='lm',se=F)+
theme_bw()+
labs(x='花萼長度(cm)',
y='花瓣寬度(cm)',
color = '品種',
title = '鳶尾花花萼長與花瓣寬線性關係')
data
data()
